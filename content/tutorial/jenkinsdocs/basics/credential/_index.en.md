---
title: "Jenkinså‡­æ®ç®¡ç† "
weight: 40
#pre: "<b> </b>"
chapter: true
draft: false
date: 2018-12-29T11:02:05+06:00
lastmod: 2020-01-05T10:42:26+06:00
# search related keywords
keywords: ["Jenkinså‡­æ®ç®¡ç†"]
---




æ‚¨å¥½ï¼Œæœ¬ç« æˆ‘ä»¬å°†æŒ‡å¯¼å¤§å®¶å¦‚ä½•ç®¡ç†Jenkinsçš„å‡­æ® ğŸ˜€ æ¯ä¸ªå‡­æ®ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„IDï¼Œè¿™ä¸ªIDå¾ˆé‡è¦ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¹Ÿå¯ä»¥éšæœºç”Ÿæˆã€‚ï¼ˆåç»­æµæ°´çº¿ä¸­å¼•ç”¨éƒ½æ˜¯é€šè¿‡IDå¼•ç”¨çš„ï¼‰




### ç›®å½•
+ [æ–°å»ºå‡­æ®](#æ–°å»ºå‡­æ®)
+ [åˆ é™¤å‡­æ®](#åˆ é™¤å‡­æ®)
+ [æ›´æ–°å‡­æ®](#æ›´æ–°å‡­æ®)
+ [ç§»åŠ¨å‡­æ®](#ç§»åŠ¨å‡­æ®)
+ [ä½¿ç”¨å‡­æ®](#ä½¿ç”¨å‡­æ®)

---
Jenkinsçš„å‡­æ®æœ‰å¾ˆå¤šç§ç±»å‹ï¼Œå¯ä»¥å°†ä¸€äº›æ•æ„Ÿä¿¡æ¯å­˜å‚¨ä¸ºå‡­æ®ï¼Œç„¶ååœ¨é¡¹ç›®ä¸­å¼•ç”¨ã€‚
å‡­æ®-> ç³»ç»Ÿ-> å…¨å±€å‡­æ®
![images](images/06-pingju-cat.png)

![images](images/01-pingju.png)

* `Username with password`ç±»å‹å­˜å‚¨Harboræˆ–è€…å…¶ä»–ç³»ç»Ÿçš„ç”¨æˆ·åå’Œå¯†ç ã€‚
* `GitLab API token`ç±»å‹å­˜å‚¨Gitlabçš„ç”¨æˆ·API tokenã€‚
* `Secret text`ç±»å‹å¯ä»¥ç”¨æ¥å­˜å‚¨OpenShiftç­‰ç³»ç»Ÿä¸­çš„tokenã€‚
* `Certificate`ç±»å‹å¯ä»¥ç”¨æˆ·å­˜å‚¨è¯ä¹¦ï¼Œä¾‹å¦‚k8sçš„ç”¨æˆ·è¯ä¹¦ã€‚


### æ–°å»ºå‡­æ®
é€‰æ‹©éœ€è¦åˆ›å»ºçš„å‡­æ®çš„ç±»å‹ï¼Œç„¶åè¾“å…¥è´¦å·å’Œå¯†ç ç­‰ä¿¡æ¯ã€‚ä¿å­˜å³å¯ã€‚

![images](images/07-pingju-create.png)

### åˆ é™¤å‡­æ®
å½“ä¸€äº›å‡­æ®å·²ç»ä¸éœ€è¦çš„æ—¶å€™ï¼Œå¯ä»¥è¿›è¡Œåˆ é™¤ã€‚
![images](images/08-pingju-delete.png)

### æ›´æ–°å‡­æ®
å½“ç”¨æˆ·åæˆ–è€…å¯†ç æ›´æ”¹åï¼Œå¯ä»¥é€‰æ‹©å‡­æ®è¿›è¡Œä¿®æ”¹ã€‚
![images](images/09-pingju-update.png)

### ç§»åŠ¨å‡­æ®

ç›®å‰ç§»åŠ¨å‡­æ®å¾ˆå°‘ç”¨ï¼Œå½“å­˜åœ¨å¤šä¸ªé˜ˆçš„æ—¶å€™å¯ä»¥ä½¿ç”¨ã€‚

![images](images/10-pingju-move.png)


### ä½¿ç”¨å‡­æ®

æˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®ä¸­å¢åŠ ä¸€ä¸ªå‡­æ®å‚æ•°ï¼Œç”¨ä¸é¡¹ç›®æ„å»ºä¸­ä½¿ç”¨ã€‚
![images](images/02-pingju.png)

å½“æˆ‘ä»¬ä½¿ç”¨pipelineç±»å‹çš„é¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡`ç‰‡æ®µç”Ÿæˆå™¨`ç”Ÿæˆæµæ°´çº¿è¯­æ³•

* é€‰æ‹©è¦ä½¿ç”¨çš„å‡­æ®çš„ç±»å‹
![images](images/03-pingju.png)

* è¾“å…¥è¯¥å‡­æ®çš„è´¦å·çš„å¯†ç çš„å˜é‡åç§°ï¼ˆåç»­ç›´æ¥åœ¨æµæ°´çº¿ä¸­ä½¿ç”¨æ­¤å˜é‡è¿›è¡Œå¼•ç”¨ï¼‰
![images](images/04-pingju.png)

* æµæ°´çº¿ä»£ç 

```
withCredentials([usernamePassword(credentialsId: '24982560-17fc-4589-819b-bc5bea89da77', passwordVariable: 'password', usernameVariable: 'username')]) {
    // some block

    sh "curl -u ${username}:${password} xxxxxxxxx"
}
```

---